version: '3.9'

services:
  superset:
    image: jembi/superset:latest
    environment:
      SUPERSET_LOAD_EXAMPLES: ${SUPERSET_LOAD_EXAMPLES?:-yes}
      DATABASE_DB=superset: ${DATABASE_DB?:-superset}
      DATABASE_HOST=clickhouse: ${DATABASE_HOST?:-clickhouse}
      DATABASE_PASSWORD=superset: ${DATABASE_PASSWORD?:-superset}
      DATABASE_USER=superset: ${DATABASE_USER?:-superset}
      FLASK_ENV=development: ${FLASK_ENV?:-development}
      SUPERSET_ENV=development: ${SUPERSET_ENV?:-development}
    volumes:
      - superset_home:/app/superset_home
      - superset:/app/superset
      - superset-frontend:/app/superset-frontend

volumes:
  superset_home:
  superset:
  superset-frontend:
